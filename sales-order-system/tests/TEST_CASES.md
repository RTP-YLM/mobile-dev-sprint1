# Test Cases - ระบบใบสั่งขายและจัดส่ง
# QA: มิ้นท์ (Test-1)
# Date: 2026-02-02

## TC-01: การสร้างใบสั่งขาย (Create SO)

### TC-01-01: สร้าง SO สำเร็จ
| ขั้นตอน | Expected Result |
|---------|-----------------|
| 1. Login เป็น Sales | เข้าระบบสำเร็จ |
| 2. กดปุ่ม "สร้างใบสั่งขาย" | แสดงฟอร์มสร้าง SO |
| 3. เลือกลูกค้า | แสดงข้อมูลลูกค้า |
| 4. เพิ่มสินค้า 2 รายการ | คำนวณยอดรวมถูกต้อง |
| 5. กดบันทึก | สร้าง SO สำเร็จ, สถานะ = draft |

### TC-01-02: สร้าง SO ไม่มีสินค้า (Negative)
| ขั้นตอน | Expected Result |
|---------|-----------------|
| 1. สร้าง SO ไม่เลือกสินค้า | แจ้ง Error "กรุณาเพิ่มสินค้า" |

### TC-01-03: สร้าง SO สินค้าเกิน stock (Edge Case)
| ขั้นตอน | Expected Result |
|---------|-----------------|
| 1. เลือกสินค้า qty > stock | แจ้งเตือน "สินค้าไม่พอ" |

---

## TC-02: การอนุมัติ SO

### TC-02-01: อนุมัติ SO สำเร็จ
| ขั้นตอน | Expected Result |
|---------|-----------------|
| 1. เปิด SO สถานะ pending | แสดงปุ่มอนุมัติ |
| 2. กดอนุมัติ | สถานะเปลี่ยนเป็น approved |
| 3. ตรวจสอบ approved_by | บันทึก user ที่อนุมัติ |

### TC-02-02: Sales ไม่สามารถอนุมัติได้ (Permission)
| ขั้นตอน | Expected Result |
|---------|-----------------|
| 1. Login เป็น Sales | - |
| 2. เปิด SO pending | ไม่แสดงปุ่มอนุมัติ |

---

## TC-03: การจัดส่ง (Delivery)

### TC-03-01: สร้างใบจัดส่งจาก SO
| ขั้นตอน | Expected Result |
|---------|-----------------|
| 1. เปิด SO สถานะ approved | แสดงปุ่ม "สร้างใบจัดส่ง" |
| 2. กดสร้างใบจัดส่ง | สร้าง DO สำเร็จ |
| 3. ตรวจสอบ SO status | เปลี่ยนเป็น picking |

### TC-03-02: ยืนยันจัดส่งสำเร็จ
| ขั้นตอน | Expected Result |
|---------|-----------------|
| 1. เปิด DO สถานะ pending | - |
| 2. กด "ส่งแล้ว" | DO status = delivered |
| 3. ตรวจสอบ SO status | เปลี่ยนเป็น shipped |

---

## TC-04: รายงาน

### TC-04-01: Dashboard แสดงข้อมูลถูกต้อง
| ตรวจสอบ | Expected Result |
|---------|-----------------|
| จำนวน SO วันนี้ | ตรงกับ DB |
| ยอดขายวันนี้ | คำนวณถูกต้อง |
| SO รออนุมัติ | แสดงจำนวนถูกต้อง |

---

## Test Summary
| Test Type | จำนวน |
|-----------|-------|
| Positive | 6 |
| Negative | 2 |
| Edge Case | 1 |
| Permission | 1 |
| **รวม** | **10** |
